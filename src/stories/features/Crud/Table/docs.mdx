import { Meta, Primary, Controls, Story, Source } from '@storybook/blocks'
import * as TableLowcodeStories from './TableLowcode.stories'

<Meta of={TableLowcodeStories} />

# Base

with pagination, refresh after action, search & filter

<Story of={TableLowcodeStories.Base} />

```tsx
import { TableLowcode } from 'alurkerja-ui'
import { useState } from 'react'

const Halaman = () => {
  const [pageConfig, setPageConfig] = useState({ limit: 10, page: 0 })
  const [renderState, setRenderState] = useState(0)
  const [filterBy, setFilterBy] = useState<{ [x: string]: any }>()
  const [search, setSearch] = useState<string>()

  return (
    <TableLowcode
      baseUrl="https://kpm-sys.merapi.javan.id"
      tableName="jpn"
      renderState={renderState}
      setRenderState={setRenderState}
      pageConfig={pageConfig}
      setPageConfig={setPageConfig}
      filterBy={filterBy}
      setFilterBy={setFilterBy}
      search={search}
      setSearch={setSearch}
    />
  )
}
```

# Customize

## Custom Header

<Story of={TableLowcodeStories.CustomHeader} />
```tsx

import {TableLowcode} from 'alurkerja-ui' import {useState} from 'react'

const Halaman = () => {
const [pageConfig, setPageConfig] = useState({ limit: 10, page: 0 })
const [renderState, setRenderState] = useState(0)
const [filterBy, setFilterBy] = useState<{ [x: string]: any }>()
const [search, setSearch] = useState<string>()

  return (

    <TableLowcode
      baseUrl="https://kpm-sys.merapi.javan.id"
      tableName="jpn"
      renderState={renderState}
      setRenderState={setRenderState}
      pageConfig={pageConfig}
      setPageConfig={setPageConfig}
      filterBy={filterBy}
      setFilterBy={setFilterBy}
      search={search}
      setSearch={setSearch}
      customHeader={<>Custom Header</>}
    />
  )
} 
```

## Custom Title
<Story of={TableLowcodeStories.CustomTitle} />

```tsx

import {TableLowcode} from 'alurkerja-ui' import {useState} from 'react'

const Halaman = () => {
const [pageConfig, setPageConfig] = useState({ limit: 10, page: 0 })
const [renderState, setRenderState] = useState(0)
const [filterBy, setFilterBy] = useState<{ [x: string]: any }>()
const [search, setSearch] = useState<string>()

  return (

    <TableLowcode
      baseUrl="https://kpm-sys.merapi.javan.id"
      tableName="jpn"
      renderState={renderState}
      setRenderState={setRenderState}
      pageConfig={pageConfig}
      setPageConfig={setPageConfig}
      filterBy={filterBy}
      setFilterBy={setFilterBy}
      search={search}
      setSearch={setSearch}
      title='Custom TItle'
    />
  )
} 
```

## Custom Filter Field
<Story of={TableLowcodeStories.CustomFilterField} />

```tsx

import {TableLowcode} from 'alurkerja-ui' import {useState} from 'react'

const Halaman = () => {
const [pageConfig, setPageConfig] = useState({ limit: 10, page: 0 })
const [renderState, setRenderState] = useState(0)
const [filterBy, setFilterBy] = useState<{ [x: string]: any }>()
const [search, setSearch] = useState<string>()

  return (

    <TableLowcode
      baseUrl="https://kpm-sys.merapi.javan.id"
      tableName="jpn"
      renderState={renderState}
      setRenderState={setRenderState}
      pageConfig={pageConfig}
      setPageConfig={setPageConfig}
      filterBy={filterBy}
      setFilterBy={setFilterBy}
      search={search}
      setSearch={setSearch}
      customFilterField={({ field, defaultField }) => {
        const [name, spec] = field

        if (name === 'nama') {
          return <div>Custom</div>
        }
        return defaultField
      }}
    />
  )
} 
```

## custom action (create, edit, delete)
> check console when click button action

<Story of={TableLowcodeStories.CustomAction} />

```tsx

import {TableLowcode} from 'alurkerja-ui' import {useState} from 'react'

const Halaman = () => {
const [pageConfig, setPageConfig] = useState({ limit: 10, page: 0 })
const [renderState, setRenderState] = useState(0)
const [filterBy, setFilterBy] = useState<{ [x: string]: any }>()
const [search, setSearch] = useState<string>()

  return (

    <TableLowcode
      baseUrl="https://api-geekacademy.merapi.javan.id"
      tableName="categpry"
      module='category'
      renderState={renderState}
      setRenderState={setRenderState}
      pageConfig={pageConfig}
      setPageConfig={setPageConfig}
      filterBy={filterBy}
      setFilterBy={setFilterBy}
      search={search}
      setSearch={setSearch}
      onClickCreate={() => console.log('create clicked')}
      onClickEdit={(spec, id) => console.log(`edit button on row with id ${id} clicked`, spec)}
      onClickDelete={(spec, id) => console.log(`delete button on row with id ${id} clicked`, spec)}
    />
  )
} 
```

## custom message
<Story of={TableLowcodeStories.CustomAlertMessage} />


```tsx

import {TableLowcode} from 'alurkerja-ui' 
import {useState} from 'react'

const Halaman = () => {
const [pageConfig, setPageConfig] = useState({ limit: 10, page: 0 })
const [renderState, setRenderState] = useState(0)
const [filterBy, setFilterBy] = useState<{ [x: string]: any }>()
const [search, setSearch] = useState<string>()

  return (

    <TableLowcode
      baseUrl="https://api-geekacademy.merapi.javan.id"
      tableName="categpry"
      module='category'
      renderState={renderState}
      setRenderState={setRenderState}
      pageConfig={pageConfig}
      setPageConfig={setPageConfig}
      filterBy={filterBy}
      setFilterBy={setFilterBy}
      search={search}
      setSearch={setSearch}
      message={{
        success_create_text: 'Custom text create',
        success_create_title: 'Custom title create',
        success_delete_title: 'Custom tile delete',
        success_delete_text: 'Custom text delete',
        success_edit_text: 'Custom text edit',
        success_edit_title: 'Custom title edit'
      }}
    />
  )
} 
```

## Hide Button Filter
<Story of={TableLowcodeStories.HideButtonFilter} />


```tsx

import {TableLowcode} from 'alurkerja-ui' 
import {useState} from 'react'

const Halaman = () => {
const [pageConfig, setPageConfig] = useState({ limit: 10, page: 0 })
const [renderState, setRenderState] = useState(0)
const [filterBy, setFilterBy] = useState<{ [x: string]: any }>()
const [search, setSearch] = useState<string>()

  return (

    <TableLowcode
      baseUrl="https://api-geekacademy.merapi.javan.id"
      tableName="categpry"
      module='category'
      renderState={renderState}
      setRenderState={setRenderState}
      pageConfig={pageConfig}
      setPageConfig={setPageConfig}
      filterBy={filterBy}
      setFilterBy={setFilterBy}
      search={search}
      setSearch={setSearch}
      canFilter={false}
    />
  )
} 
```


## Form Config
form config used for customize modal form

<Story of={TableLowcodeStories.FormConfig} />


```tsx

import {TableLowcode} from 'alurkerja-ui' 
import {useState} from 'react'

const Halaman = () => {
const [pageConfig, setPageConfig] = useState({ limit: 10, page: 0 })
const [renderState, setRenderState] = useState(0)
const [filterBy, setFilterBy] = useState<{ [x: string]: any }>()
const [search, setSearch] = useState<string>()

  return (

    <TableLowcode
      baseUrl="https://api-geekacademy.merapi.javan.id"
      tableName="categpry"
      module='category'
      renderState={renderState}
      setRenderState={setRenderState}
      pageConfig={pageConfig}
      setPageConfig={setPageConfig}
      filterBy={filterBy}
      setFilterBy={setFilterBy}
      search={search}
      setSearch={setSearch}
      formConfig={{hideButtonCancel: true}}
    />
  )
} 
```

# Props

<Controls />
